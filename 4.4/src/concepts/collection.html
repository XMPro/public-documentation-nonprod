<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Collection and Stream Host | XMPro </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Collection and Stream Host | XMPro ">
      <meta name="description" content="XMPro official documentation - Learn how to use XMPro&#39;s intelligent digital twin suite for real-time operational intelligence and automated decision-making.">
      
      <link rel="icon" href="../../images/favicon.png">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://xmpro.visualstudio.com/XMPro%20Development/_git/xmpro-development?path=docs/src/concepts/collection.md&amp;version=GBrelease-4.4.22&amp;line=1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../images/logo-light.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="collection-and-stream-host">Collection and Stream Host</h1>

<div class="NOTE">
<h5>Note</h5>
<p>It is recommended that you read this documentation along with the articles listed below to improve your understanding of how Stream Hosts and Collections work.</p>
<ul>
<li><a href="agent/index.html">Agents</a></li>
<li><a href="data-stream/index.html">Data Stream Processing</a></li>
</ul>
</div>
<h2 id="overview">Overview</h2>
<p>Watch the video below for an introduction to Stream Hosts and Collections, and their role in enabling scalable real-time data processing. Whether you're overseeing a few assets or thousands, stream hosts and collections provide the flexibility, efficiency, and scalability needed to transform your data operations.</p>
<div class="embeddedvideo"><iframe src="https://www.youtube-nocookie.com/embed/cIEN6vtFcoI?rel=0" frameborder="0" allowfullscreen="true"></iframe></div>
<blockquote>
<p>Video 1: How XMPro Stream Hosts and Collections Enable Scalable, Real-Time Data Processing</p>
</blockquote>
<h3 id="stream-hosts">Stream Hosts</h3>
<p>A Stream Host is an application that can be <a href="#stream-host-installation">installed</a> as a Docker container, a Windows Service, or a Console Application. Stream Hosts enable Data Streams to run and execute actions and are also responsible for getting the configurations of <a href="agent/virtual-vs-non-virtual-agents.html">Non-Virtual Agents</a>. In other words, the Stream Host application needs to be running for <a href="agent/index.html">Agents</a> in a <a href="data-stream/index.html">Data Stream</a> to process the data, according to the design of the Stream.</p>
<p>Both <a href="agent/virtual-vs-non-virtual-agents.html">Virtual and Non-Virtual</a> Agents essentially run on a Stream Host, but how they are handled at design time differs greatly. Non-Virtual Agents require a Stream Host to be online for Data Stream Designer to be able to get their configurations, but Virtual Agents don't need a Stream Host to be running.</p>
<div class="embeddedvideo"><iframe src="https://www.youtube-nocookie.com/embed/-f2TRr-OQSY?rel=0" frameborder="0" allowfullscreen="true"></iframe></div>
<h3 id="collections">Collections</h3>
<p>Stream Hosts are grouped into different Collections, which are created and maintained in Data Stream Designer. A Collection can be defined as a Category that contains a set of Stream Hosts that run the same Data Streams. Each Stream Host is associated with a Collection by keeping the ID of the Collection in the <em>appsettings.json</em> file of the Stream Host, which can be found in the location where the Stream Host has been installed. Thus, all the Stream Hosts that have the same Collection ID stored in this file, will automatically fall under the Collection that has that ID.</p>
<p>After creating a Collection within Data Stream Designer, you can associate a Data Stream with a default Collection. Unless changes are made for individual Agents in your Data Stream, each Agent will use this Collection to perform the actions it was designed to perform. However, Data Stream Designer allows you to build a stream in which some Agents use one Collection and others use a different Collection. For more information on how to configure this, click <a href="https://docs.xmpro.com/docs/data-stream-designer/concepts/collections/#remote-receivers-and-publishers">here</a>.</p>
<p>Along with the Collection ID, the <em>appsettings.json</em> file contains other configurations for the Stream Host. Each of these configurations are listed and described in the table below.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>Uniquely identifies the Stream Host.</td>
</tr>
<tr>
<td>Name</td>
<td>Name of the Stream Host.</td>
</tr>
<tr>
<td>Collection ID</td>
<td>ID of the Collection associated with the Stream Host.</td>
</tr>
<tr>
<td>Rank</td>
<td>Indicator of the preference given to the Stream Host. This especially applies when more than one Stream Host with the same Collection ID is running. The Stream Host with the lowest rank will be used to get the configurations of Non-Virtual Agents. The rank has a default value of 0. See <a href="#stream-host-rank">Stream Host Rank.</a></td>
</tr>
<tr>
<td>Secret</td>
<td>Used to verify the connection between the Stream Host and the Collection. This field needs to correspond to the <em>Key</em> that is stored for a Collection in Data Stream Designer. If this key is revoked/replaced, all Stream Hosts will be disconnected.</td>
</tr>
<tr>
<td>Server URL</td>
<td>URL that the Stream Host needs to use to connect to Data Stream Designer.</td>
</tr>
<tr>
<td>Cryptography key</td>
<td>Key that the Stream Host will use to encrypt or decrypt secure user settings, for example, a SQL Server Password.</td>
</tr>
</tbody>
</table>
<p>The table below contains a list of the configurations stored for a Collection along with a description for each. This information can be found by opening the Collections page from the left-hand menu in Data Stream Designer and selecting your Collection from the list. Please note that the only field you will not be able to change is the ID of the Collection.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>Uniquely identifies the Collection.</td>
</tr>
<tr>
<td>Key</td>
<td>Used to verify the connection between the host and Data Stream Designer. If this key is revoked/replaced, all Stream Hosts will be disconnected.</td>
</tr>
<tr>
<td>Name</td>
<td>Name of the Collection.</td>
</tr>
<tr>
<td>Remote Receiver</td>
<td>See <a href="../how-tos/data-streams/remote-receivers-and-publishers.html">Remote Receivers and Publishers</a>.</td>
</tr>
<tr>
<td>Remote Publisher</td>
<td>See <a href="../how-tos/data-streams/remote-receivers-and-publishers.html">Remote Receivers and Publishers</a>.</td>
</tr>
<tr>
<td>Metadata</td>
<td>Tags that have been added to the Collection.</td>
</tr>
</tbody>
</table>
<p><img src="../images/collection-configuration.png" alt="Collection Configuration"></p>
<h3 id="publish-and-unpublish-data-streams">Publish and Unpublish Data Streams</h3>
<p>On the Collections page, click <em>More</em> and <em>Data Streams</em> to view a list of all Data Streams that are using a given Collection. Here you can directly unpublish or publish a Data Stream.</p>
<p>As an Admin, this is useful if you need to unpublish a Data Stream and you don't have access to it. See the <a href="../how-tos/publish/admin-unpublish-override.html">How to Admin Unpublish Override</a> article for more details.</p>
<p><img src="../images/publish-unpublish-data-streams.png" alt="Publish/Unpublish Data Streams"></p>
<h2 id="finding-collections">Finding Collections</h2>
<p>The search bar can be used to find any specific Collections that you may be looking for. There is a dropdown option where you can specify to search through everything in Data Stream Designer, or only for Collections.</p>
<p><img src="../images/search-collections.png" alt="Search Collections"></p>
<h2 id="actions-on-the-collection">Actions on the Collection</h2>
<table>
<thead>
<tr>
<th><strong>Action</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>New</td>
<td>Adds a new Collection.</td>
</tr>
<tr>
<td>Select</td>
<td>Selects multiple Collections.</td>
</tr>
<tr>
<td>Delete</td>
<td>Deletes the selected Collections.</td>
</tr>
<tr>
<td>Save</td>
<td>Saves any changes made to the Collection up to this point.</td>
</tr>
<tr>
<td>Discard</td>
<td>Discards any changes made to the Collection up to this point.</td>
</tr>
<tr>
<td>Stream Hosts</td>
<td>Opens a new page with a list of hosts that have installed this Collection.</td>
</tr>
<tr>
<td>Connection Profile</td>
<td>Download the Connection Profile used in the installation of a Stream Host.</td>
</tr>
<tr>
<td>Download Host</td>
<td>Download the installation file for the selected platform.</td>
</tr>
<tr>
<td>Variables</td>
<td>Manage the Collection's Variables.</td>
</tr>
<tr>
<td>Data Streams</td>
<td>Opens a new page with a list of all Data Streams in the selected Collection.</td>
</tr>
<tr>
<td>Revoke Key</td>
<td>Revokes the current key and will generate a new one. Hosts that are using the revoked key will be unable to connect until their configuration is manually updated.</td>
</tr>
<tr>
<td>Delete</td>
<td>Deletes the selected Collection.</td>
</tr>
</tbody>
</table>
<h2 id="remote-receivers-and-publishers">Remote Receivers and Publishers</h2>
<p>The Remote Receiver and Remote Publisher properties are used to bridge the gap between Agents in a stream that is associated with different Collections, for example:</p>
<p>Consider having a stream that has two Agents:</p>
<ul>
<li><em>Listener_A</em>, which is associated with <em>Collection_A</em>, and</li>
<li><em>Action_Agent_B</em>, which is associated with <em>Collection_B</em></li>
</ul>
<p><em>Listener_A</em> needs to communicate to <em>Action_Agent_B</em>, but they belong to different Collections. As a result, the engine will automatically use the Remote Receiver and Publisher to pass data from one Collection to another.</p>
<p>Please note that only <a href="http://mqtt.org/">MQTT</a> is currently supported for this functionality.</p>
<p><strong>Example:</strong></p>
<p>Consider a stream that has the following Agents:</p>
<ol>
<li>Event Simulator</li>
<li>Event Printer</li>
</ol>
<p>For the purpose of this example, the Event Simulator will be named ES_1 and the Event Printer EP_1, where ES_1 is using Collection_A and EP_1 is using Collection_B. Since these two Agents are using two different Collections, data flow from ES_1 to EP_1 is not possible as there is no physical connection (the Stream Hosts in these Collections can be on different machines in different parts of the world).</p>
<p>To solve this problem and allow data flow from ES_1 to EP_1, the Collection EP_1 is using needs to be set up as follows:</p>
<ul>
<li>The Remote Receiver for Collection_B needs to be set to MQTT and the broker address needs to be specified.</li>
<li>The Remote Publisher for Collection_B needs to be set to MQTT and the broker address needs to be specified.</li>
</ul>
<p>When the stream is published now, the data simulated by ES_1 will be published to MQTT, which will enable the engine to get the data EP_1 expects by listening for it on MQTT. Thus, data flow between ES_1 and EP_1 has been established.</p>
<p><img src="../images/remote-receivers-publishers-example-1.png" alt="Remote Receivers and Publishers Example 1"></p>
<p>The below image is an example of the configuration for <em>Collection_B</em>.</p>
<p><img src="../images/remote-receivers-publishers-example-2.png" alt="Remote Receivers and Publishers Example 2"></p>
<h2 id="connection-profiles">Connection Profiles</h2>
<h3 id="overview-1">Overview</h3>
<p>A Connection Profile is a file, containing certain details about a Collection, that can be downloaded from Data Stream Designer. The purpose of this file is to make the installation process of Stream Hosts easier by providing you with an option to upload this file to the Stream Host installer instead of manually specifying the Collection information. This file contains the values described in the table below.</p>
<table>
<thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Device Name</td>
<td>Name of the Stream Host. This name will be the same as the device name that needs to be specified when downloading a Collection Profile. If you install the Stream Host as a Windows Service, the service name and device name will be the same.</td>
</tr>
<tr>
<td>Collection ID</td>
<td>The ID of the Collection the Stream Host will be associated with.</td>
</tr>
<tr>
<td>Secret</td>
<td>Used to verify the connection between the stream host and the Collection. If this key is revoked/replaced, all stream hosts will be disconnected.</td>
</tr>
<tr>
<td>Server URL</td>
<td>URL that the Stream Host needs to use to connect to Data Stream Designer. This is the URL of the instance of Data Stream Designer that has been installed on the server.</td>
</tr>
<tr>
<td>Key</td>
<td>Key used to encrypt or decrypt user settings.</td>
</tr>
</tbody>
</table>
<h3 id="download-a-connection-profile">Download a connection profile</h3>
<p>To download an installation profile, follow the steps below:</p>
<ol>
<li>Open the <em>Collections</em> page from the left-hand menu.</li>
<li>Select the Collection you would like to install the Stream Host for.</li>
<li>Click <em>Connection Profile.</em></li>
<li>Enter a <em>Device Name.</em></li>
<li>Click <em>OK</em>. The download will start automatically.</li>
</ol>
<p><img src="../images/download-connection-profile.png" alt="Download Connection Profile"></p>
<h2 id="stream-host-installation">Stream Host Installation</h2>
<p>To install a Stream Host, <a href="../how-tos/stream-host.html#how-to-install-a-stream-host">please refer to these instructions</a>.</p>
<h2 id="set-log-level">Set Log Level</h2>
<p>The Log Level determines the type of information or level of detail that will be logged. The two Log Levels are Trace and Info.</p>
<h3 id="info">Info</h3>
<p>The Info Log level is the default Log Level. This will only log <em>Info</em> level messages or logs, which include details on when a Stream Host is starting or stopping. Any errors related to Connections or the Stream Host itself will also be logged at this level.</p>
<h3 id="trace">Trace</h3>
<p>The Trace Log level will log more detailed messages and errors about the Data Stream or specific Agents themselves. This is very useful for debugging as it can log information about what is happening inside the code itself, such as which methods are being called and when. Using the Trace Log Level for a long period of time can take up a lot of space on the hard drive. Selecting the Trace Log Level will log both <em>Trace</em> and <em>Info</em> Level Logs.</p>
<p><img src="../images/set-log-level.png" alt="Set Log Level"></p>
<h2 id="stream-host-rank">Stream Host Rank</h2>
<p>All the Stream Hosts contained in a Collection will be used to run the Data Streams associated with that Collection. However, you can choose which Stream Host should be responsible for getting the configurations of Non-Virtual agents. The rank given to a Stream Host defines what preference the Stream Host will be given in such a scenario. The Stream Host with the lowest rank will be picked by the system. All Stream Hosts will always have a default rank value of 0.</p>
<h3 id="example">Example</h3>
<p>Consider having a Data Stream with the following Agents:</p>
<ul>
<li>MQTT listener</li>
<li>Filter transformation</li>
<li>SQL Server Writer</li>
</ul>
<p>The purpose of this Data Stream is to get temperature readings from a sensor on a machine, filter the readings that are higher than 120°C and write these values to a table in a SQL Server database. All three agents are configured to use Stream Hosts in the &quot;<em>Mine 09</em>&quot; Collection to run (see image below).</p>
<p>However, to get the user settings for the SQL Server Writer Action Agent, which is a Non-Virtual Agent, Data Stream Designer will pick and use the first Stream Host available. This can be changed by setting the rank of the Stream Host you want to use to be lower than the other Stream Hosts that are available.</p>
<p><img src="../images/stream-host-rank-example-1.png" alt="Stream Host Rank Example 1"></p>
<p><img src="../images/stream-host-rank-example-2.png" alt="Stream Host Rank Example 2"></p>
<h2 id="further-reading">Further Reading</h2>
<ul>
<li><a href="../how-tos/data-streams/manage-collections.html">How to Create and Manage Collections</a></li>
</ul>


  <div class="last-modified">
    <hr />
    <p><small><em>Last modified: July 16, 2025</em></small></p>
  </div>
</article>



      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright © 2025 XMPro. All rights reserved.
        </div>
      </div>
    </footer>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Multi-Server Deployment | XMPro </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Multi-Server Deployment | XMPro ">
      <meta name="description" content="XMPro official documentation - Learn how to use XMPro&#39;s intelligent digital twin suite for real-time operational intelligence and automated decision-making.">
      
      <link rel="icon" href="../../../../images/favicon.png">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../">
      
      
      <meta name="docfx:docurl" content="https://xmpro.visualstudio.com/XMPro%20Development/_git/xmpro-development?path=docs/src/installation/deployment/windows-server-2022/multi-server-deployment.md&amp;version=GBrelease-4.1.1&amp;line=1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../images/logo-light.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="multi-server-deployment">Multi-Server Deployment</h1>

<h2 id="introduction">Introduction</h2>
<p>Deploy XMPro products across multiple Windows servers for enterprise-scale architectures. This approach enables distributed workloads, product isolation, and high-availability configurations. Use multi-server deployment when you need to scale beyond a single server or require separation between products for security, performance, or compliance requirements.</p>
<div class="NOTE">
<h5>Note</h5>
<p><strong>Single-Server vs Multi-Server:</strong> For simpler deployments where all products run on one server, see the <a href="index.html">main installation guide</a>. Use multi-server deployment when you need:</p>
<ul>
<li>Distributed load across multiple servers</li>
<li>Isolation between products for security or performance</li>
<li>Scalability for high-availability architectures</li>
</ul>
</div>
<div class="IMPORTANT">
<h5>Important</h5>
<p><strong>Deployment Responsibilities</strong></p>
<p>Multi-server deployments follow XMPro's <a href="../../overview.html#two-phase-deployment-model">two-phase deployment responsibility model</a>:</p>
<ul>
<li><strong>Phase 1 (Customer):</strong> Provision all servers, install prerequisites, configure networking and security</li>
<li><strong>Phase 2 (XMPro/Partner):</strong> Deploy XMPro applications using the installer</li>
</ul>
<p>This guide focuses on Phase 2 application deployment. Ensure Phase 1 infrastructure is complete before proceeding.</p>
</div>
<h2 id="prerequisites">Prerequisites</h2>
<p>Each server in your multi-server deployment must meet the standard prerequisites. See <a href="index.html#prerequisites">Prerequisites</a> for complete requirements including:</p>
<ul>
<li>Windows Server 2022</li>
<li>IIS with required features</li>
<li>SQL Server 2022 with Mixed Mode authentication</li>
<li>Certificates (signing and SSL)</li>
<li>.NET Framework and .NET 8 Hosting Bundle</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p><strong>Database Configuration:</strong> Each product can use different SQL Server instances or credentials. See <a href="index.html#2-database-configuration">Database Configuration</a> for all available options.</p>
</div>
<h2 id="product-dependencies">Product Dependencies</h2>
<p>XMPro products must be installed in this order due to dependencies:</p>
<pre><code>SM (Subscription Manager)
  ↓
AD (App Designer) ← Requires product keys generated by SM
  ↓
DS (Data Stream Designer) ← Requires product keys generated by SM
  ↓
SH (Stream Host) ← Requires DS URL and collection details
</code></pre>
<p><strong>Why this order?</strong></p>
<ul>
<li><strong>SM</strong> creates foundational data (company, products, licenses) required by all other products</li>
<li><strong>AD and DS</strong> both need product keys generated by SM database for authentication and licensing</li>
<li><strong>SH</strong> needs DS URL and collection details for data stream execution</li>
</ul>
<h2 id="multi-server-architecture">Multi-Server Architecture</h2>
<p><img src="../../../images/xmpro-multi-server-deployment-architecture.jpg" alt="XMPro Multi-Server Deployment Architecture"></p>
<div class="IMPORTANT">
<h5>Important</h5>
<p><strong>Configuration File Preservation</strong></p>
<p>The installer automatically preserves existing configuration from <code>C:\XMPro\</code>:</p>
<ul>
<li>Database credentials (SQL Server, username, password)</li>
<li>SMTP settings (if previously configured)</li>
<li>Certificate paths and passwords</li>
<li>Previous product configurations</li>
</ul>
<p>You'll see these as defaults during reinstallation - press Enter to keep them.</p>
</div>
<h2 id="installation-workflow">Installation Workflow</h2>
<h4 id="step-1-install-sm-server-1">Step 1: Install SM (Server 1)</h4>
<p>Run the installer on your SM server:</p>
<pre><code class="lang-cmd">powershell.exe -ExecutionPolicy Bypass -Command &quot;$env:SCRIPT_URL='{{INSTALL_URL_PREFIX}}{{VERSION}}/install-xmpro-application.ps1'; iex (irm $env:SCRIPT_URL)&quot;
</code></pre>
<p>When prompted, configure:</p>
<ul>
<li><strong>Products:</strong> Select SM only</li>
<li><strong>Hostname:</strong> Enter Server 1's DNS name (e.g., <code>sm.yourcompany.com</code> or <code>sm-server-01</code>)</li>
<li><strong>Port:</strong> 5201 (default) or custom port</li>
<li><strong>Database, SMTP, certificates:</strong> Configure as prompted</li>
</ul>
<p>Installation creates:</p>
<ul>
<li>SM database on SQL Server</li>
<li>SM IIS application</li>
<li>Configuration files in <code>C:\XMPro\</code></li>
</ul>
<h4 id="step-2-copy-configuration-to-ad-server">Step 2: Copy Configuration to AD Server</h4>
<p>Copy only the <code>.json</code> configuration files from SM server to AD server:</p>
<ul>
<li>Source: <code>C:\XMPro\*.json</code> on SM server (Server 1)</li>
<li>Destination: <code>C:\XMPro\</code> on AD server (Server 2)</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p><strong>What gets copied:</strong></p>
<ul>
<li>Configuration files only (<code>Global-variables.json</code>, <code>Global-settings.json</code>, <code>SM-variables.json</code>, etc.)</li>
<li>These contain database credentials, SMTP settings, and certificate paths</li>
</ul>
<p><strong>Security:</strong> Ensure certificates themselves are accessible on the destination server at the paths specified in the configuration files. Do not copy certificates - only the configuration that references them.</p>
</div>
<h4 id="step-3-install-ad-server-2">Step 3: Install AD (Server 2)</h4>
<p>Run the installer on your AD server:</p>
<pre><code class="lang-cmd">powershell.exe -ExecutionPolicy Bypass -Command &quot;$env:SCRIPT_URL='{{INSTALL_URL_PREFIX}}{{VERSION}}/install-xmpro-application.ps1'; iex (irm $env:SCRIPT_URL)&quot;
</code></pre>
<p>When prompted, configure:</p>
<ul>
<li><strong>Products:</strong> Select AD only</li>
<li><strong>Hostname:</strong> Enter Server 2's DNS name (e.g., <code>ad.yourcompany.com</code> or <code>ad-server-01</code>)</li>
<li><strong>Port:</strong> 5202 (default) or custom port</li>
<li><strong>Other settings:</strong> Uses existing configuration from <code>C:\XMPro\</code> (press Enter to accept defaults)</li>
</ul>
<p>Installation creates:</p>
<ul>
<li>AD database on SQL Server</li>
<li>AD IIS application</li>
</ul>
<h4 id="step-4-copy-configuration-to-ds-server">Step 4: Copy Configuration to DS Server</h4>
<p>Copy only the <code>.json</code> configuration files from AD server to DS server:</p>
<ul>
<li>Source: <code>C:\XMPro\*.json</code> on AD server (Server 2)</li>
<li>Destination: <code>C:\XMPro\</code> on DS server (Server 3)</li>
</ul>
<h4 id="step-5-install-ds-server-3">Step 5: Install DS (Server 3)</h4>
<p>Run the installer on your DS server:</p>
<pre><code class="lang-cmd">powershell.exe -ExecutionPolicy Bypass -Command &quot;$env:SCRIPT_URL='{{INSTALL_URL_PREFIX}}{{VERSION}}/install-xmpro-application.ps1'; iex (irm $env:SCRIPT_URL)&quot;
</code></pre>
<p>When prompted, configure:</p>
<ul>
<li><strong>Products:</strong> Select DS only</li>
<li><strong>Hostname:</strong> Enter Server 3's DNS name (e.g., <code>ds.yourcompany.com</code> or <code>ds-server-01</code>)</li>
<li><strong>Port:</strong> 5203 (default) or custom port</li>
<li><strong>Other settings:</strong> Uses existing configuration from <code>C:\XMPro\</code> (press Enter to accept defaults)</li>
</ul>
<p>Installation creates:</p>
<ul>
<li>DS database on SQL Server</li>
<li>DS IIS application</li>
</ul>
<h4 id="step-6-copy-configuration-to-sh-server">Step 6: Copy Configuration to SH Server</h4>
<p>Copy only the <code>.json</code> configuration files from DS server to SH server:</p>
<ul>
<li>Source: <code>C:\XMPro\*.json</code> on DS server (Server 3)</li>
<li>Destination: <code>C:\XMPro\</code> on SH server (Server 4)</li>
</ul>
<h4 id="step-7-install-sh-server-4">Step 7: Install SH (Server 4)</h4>
<p>Run the installer on your SH server:</p>
<pre><code class="lang-cmd">powershell.exe -ExecutionPolicy Bypass -Command &quot;$env:SCRIPT_URL='{{INSTALL_URL_PREFIX}}{{VERSION}}/install-xmpro-application.ps1'; iex (irm $env:SCRIPT_URL)&quot;
</code></pre>
<p>When prompted, configure:</p>
<ul>
<li><strong>Products:</strong> Select SH only</li>
<li><strong>DS URL:</strong> Enter Server 3's DS URL (e.g., <code>https://ds.yourcompany.com:5203</code> or <code>https://ds-server-01:5203</code>)</li>
<li><strong>Other settings:</strong> Uses existing configuration from <code>C:\XMPro\</code> (press Enter to accept defaults)</li>
</ul>
<p>Installation creates:</p>
<ul>
<li>Stream Host Windows service</li>
</ul>
<h2 id="post-deployment-configuration">Post-Deployment Configuration</h2>
<h3 id="configure-host-files">Configure Host Files</h3>
<p>After completing all installations, configure the hosts file on each server to enable proper hostname resolution between servers. This is essential when DNS is not configured for your internal server names.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p><strong>Why Configure Hosts Files?</strong></p>
<p>During installation, each XMPro product is configured with a hostname (e.g., <code>sm-server-01</code>, <code>ad.yourcompany.com</code>). Products use these hostnames to communicate with each other for:</p>
<ul>
<li><strong>Authentication</strong>: Products authenticate with SM using the configured hostname</li>
<li><strong>API Communication</strong>: AD and DS make requests to SM for license validation</li>
<li><strong>Stream Host Connection</strong>: SH connects to DS using the DS hostname</li>
</ul>
<p><strong>Without hostname resolution:</strong></p>
<ul>
<li>Products cannot locate each other on the network</li>
<li>Authentication requests fail with &quot;remote name could not be resolved&quot; errors</li>
<li>The multi-server deployment will not function</li>
</ul>
<p><strong>Alternatives to hosts file:</strong></p>
<ul>
<li>If your network has DNS configured, you can add DNS A records instead</li>
<li>The hosts file is the simplest solution when DNS is not available or for testing environments</li>
</ul>
</div>
<h4 id="configure-hosts-file-on-each-server">Configure Hosts File on Each Server</h4>
<p>On <strong>each server</strong> (SM, AD, DS, SH), add entries for all other servers:</p>
<ol>
<li><p><strong>Open Notepad as Administrator</strong></p>
<ul>
<li>Press Windows key</li>
<li>Type &quot;Notepad&quot;</li>
<li>Right-click &quot;Notepad&quot; and select &quot;Run as administrator&quot;</li>
</ul>
</li>
<li><p><strong>Open the hosts file</strong></p>
<ul>
<li>In Notepad, click File &gt; Open</li>
<li>Navigate to: <code>C:\Windows\System32\drivers\etc\</code></li>
<li>Change file filter to &quot;All Files (<em>.</em>)&quot;</li>
<li>Select the <code>hosts</code> file and click Open</li>
</ul>
</li>
<li><p><strong>Add entries for all servers</strong></p>
<p>Add the following entries (replace with your actual server IPs and hostnames):</p>
<pre><code># XMPro Multi-Server Deployment
192.168.1.10    sm-server-01
192.168.1.11    ad-server-01
192.168.1.12    ds-server-01
192.168.1.13    sh-server-01
</code></pre>
</li>
<li><p><strong>Save the file</strong></p>
<ul>
<li>Click File &gt; Save</li>
<li>Close Notepad</li>
</ul>
</li>
</ol>
<div class="NOTE">
<h5>Note</h5>
<p><strong>Example Hostname Formats:</strong></p>
<ul>
<li>Simple names: <code>sm-server-01</code>, <code>ad-server-01</code>, <code>ds-server-01</code>, <code>sh-server-01</code></li>
<li>Fully qualified: <code>sm.yourcompany.com</code>, <code>ad.yourcompany.com</code>, <code>ds.yourcompany.com</code>, <code>sh.yourcompany.com</code></li>
</ul>
<p>Use the same hostname format that you specified during product installation.</p>
</div>
<div class="TIP">
<h5>Tip</h5>
<p><strong>Testing Hostname Resolution:</strong></p>
<p>After updating the hosts file, verify connectivity from any server:</p>
<pre><code class="lang-cmd">ping sm-server-01
ping ad-server-01
ping ds-server-01
ping sh-server-01
</code></pre>
<p>Each ping should resolve to the correct IP address and respond successfully.</p>
</div>
<h2 id="post-deployment-validation">Post-Deployment Validation</h2>
<p>After completing post-deployment configuration, verify that products can communicate across servers:</p>
<ol>
<li><strong>Access SM</strong> - Navigate to <code>https://&lt;sm-hostname&gt;:5201</code> and log in with super admin credentials</li>
<li><strong>Access AD</strong> - From SM, navigate to App Designer or directly access <code>https://&lt;ad-hostname&gt;:5202</code></li>
<li><strong>Access DS</strong> - From SM, navigate to Data Stream Designer or directly access <code>https://&lt;ds-hostname&gt;:5203</code></li>
<li><strong>Verify Stream Host</strong> - In DS, check that Stream Host appears in the Stream Host list with &quot;Connected&quot; status</li>
</ol>
<p>If any product fails to load or Stream Host shows &quot;Disconnected&quot;, see <a href="troubleshooting.html">Troubleshooting Guide</a>.</p>
<h2 id="next-steps">Next Steps</h2>
<p>After completing your Windows Server deployment, proceed to:</p>
<p><strong><a href="../../complete-installation/index.html">Post-deployment</a></strong> - Complete the setup and configuration of your XMPro environment.</p>
<hr>
<h2 id="need-help">Need Help?</h2>
<p>For troubleshooting multi-server deployment issues, see the <a href="troubleshooting.html">Troubleshooting Guide</a>.</p>


  <div class="last-modified">
    <hr />
    <p><small><em>Last modified: December 08, 2025</em></small></p>
  </div>
</article>



      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright © 2025 XMPro. All rights reserved.
        </div>
      </div>
    </footer>
  </body>
</html>
